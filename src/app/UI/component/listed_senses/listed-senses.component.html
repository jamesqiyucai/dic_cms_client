<div class="listed-senses-container">
  <div>
    <div
      cdkDropList
      #newSenseList='cdkDropList'
      [cdkDropListData]="senseBase"
      [cdkDropListConnectedTo]="[senseList]"
    >
      <div cdkDrag>NewSense</div>
    </div>
    <div cdkDropList>
      <div cdkDrag>NewExample</div>
    </div>
    <div cdkDropList>
      <div cdkDrag>NewStory</div>
    </div>
    <div cdkDropList>
      <div cdkDrag>NewSeparator</div>
    </div>
  </div>
  <div
    cdkDropList
    #senseList='cdkDropList'
    (cdkDropListDropped)="itemDrop($event)"
  >
    <div *ngFor="let item of items; index as si" cdkDrag>
      <div *ngIf="item.getSense()">
        <label>Summary:<input #senseSummary [value]="item.getSense().summary" (input)="modifySenseSummary(si, senseSummary.value)"></label>
        <label>Text:<input #senseText [value]="item.getSense().text" (input)="modifySenseText(si, senseText.value)"></label>
        <div cdkDropList>
          <div *ngFor="let senseTranslation of item.getSense().translations; index as ti" cdkDrag>
            <label>SenseTranslation{{si+1}}:<input #senseTranslation [value]="senseTranslation" (input)="modifySenseTranslation(si, ti, senseTranslation.value)"></label>
          </div>
        </div>
        <div cdkDropList>
          <div *ngFor="let example of item.getSense().examples; index as ei" cdkDrag>
            <label>Text:<input #exampleText [value]="example.text" (input)="modifyExampleText(si, ei, exampleText.value)"></label>
            <div cdkDropList>
              <div *ngFor="let exampleTranslation of item.getSense().examples.get(ei).translations; index as eti" cdkDrag>
                <label>ExampleTranslation{{eti+1}}:<input #exampleTranslation [value]="exampleTranslation" (input)="modifyExampleTranslation(si, ei, eti, exampleTranslation.value)"></label>
              </div>
            </div>
            <div cdkDropList>
              <div *ngFor="let storyOfExample of example.stories; index as esi" cdkDrag>
                <label>Title:<input #exampleStoryTitle [value]="storyOfExample.title" (input)="modifyExampleStoryTitle(si, ei, esi, exampleStoryTitle.value)"></label>
                <label>Content:<input #exampleStoryText [value]="storyOfExample.text" (input)="modifyExampleStoryText(si, ei, esi, exampleStoryText.value)"></label>
              </div>
            </div>
          </div>
        </div>
        <div cdkDropList>
          <div *ngFor="let storyOfSense of item.getSense().stories; index as ssi" cdkDrag>
            <label>Title:<input #senseStoryTitle [value]="storyOfSense.title" (input)="modifySenseStoryTitle(si, ssi, senseStoryTitle.value)"></label>
            <label>Text:<input #senseStoryText [value]="storyOfSense.text" (input)="modifySenseStoryText(si, ssi, senseStoryText.value)"></label>
          </div>
        </div>
      </div>
      <div *ngIf="!item.getSense()"></div>
    </div>
  </div>
</div>
